<!DOCTYPE html>
<style>
  .s-sticker {
    width: 270px !important;
  }
  .cat-container {
    text-align: right;
  }
</style>
<html lang=zh>
<head><link rel=manifest href=/manifest.json>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="baidu-site-verification" content="code-VvT544WyCE" />
    <meta name="google-site-verification" content="ZRNXbi80HeKdx9200KLTWY1ZplSEg0xudkPXgjAAk0c" />
    <meta name="description" content="一、Flutter 是什么？Flutter 是 Google 推出的 UI 框架，帮助开发者通过一套代码同时运行在 iOS 和 Android 上，构建媲美原生体验的精美应用！实际上 Flutter 不止于移动平台，正逐渐从移动设备扩展到多个平台，例如 Web、macOS、Windows、Linux、嵌入式设备等，因此 Flutter 是适用于所有屏幕的便携式界面框架，Flutter 一切皆是 W">
<meta property="og:type" content="article">
<meta property="og:title" content="Flutter 入门指北">
<meta property="og:url" content="https://yomxxx.github.io/2023/09/10/20230910-flutter/index.html">
<meta property="og:site_name" content="辰总的blog">
<meta property="og:description" content="一、Flutter 是什么？Flutter 是 Google 推出的 UI 框架，帮助开发者通过一套代码同时运行在 iOS 和 Android 上，构建媲美原生体验的精美应用！实际上 Flutter 不止于移动平台，正逐渐从移动设备扩展到多个平台，例如 Web、macOS、Windows、Linux、嵌入式设备等，因此 Flutter 是适用于所有屏幕的便携式界面框架，Flutter 一切皆是 W">
<meta property="og:locale">
<meta property="og:image" content="https://yomxxx.github.io/assets/20230910-flutter/640.jpg">
<meta property="og:image" content="https://yomxxx.github.io/assets/20230910-flutter/640.png">
<meta property="og:image" content="https://yomxxx.github.io/assets/20230910-flutter/640-1.jpg">
<meta property="og:image" content="https://yomxxx.github.io/assets/20230910-flutter/640-1.png">
<meta property="og:image" content="https://yomxxx.github.io/assets/20230910-flutter/640-2.png">
<meta property="og:image" content="https://yomxxx.github.io/assets/20230910-flutter/640-3.png">
<meta property="article:published_time" content="2023-09-09T16:00:00.000Z">
<meta property="article:modified_time" content="2023-10-15T13:12:35.855Z">
<meta property="article:author" content="lgc">
<meta property="article:tag" content="serverless">
<meta property="article:tag" content="hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://yomxxx.github.io/assets/20230910-flutter/640.jpg">
    
    
        
          
              <link rel="shortcut icon" href="/assets/avatar.jpeg">
          
        
        
          
            <link rel="icon" type="image/png" href="/assets/avatar.jpeg" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/assets/avatar.jpeg">
          
        
    
    <!-- title -->
    <title>Flutter 入门指北</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
      <link rel="alternate" href="/atom.xml" title="辰总的blog" type="application/atom+xml" />
    
<meta name="generator" content="Hexo 5.1.1"></head>


<body class="max-width mx-auto px3 ltr">
  
    <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="http://github.com/YOMXXX">Projects</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a href="/atom.xml">RSS</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" href="/2023/08/15/20230815-blog/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://yomxxx.github.io/2023/09/10/20230910-flutter/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://yomxxx.github.io/2023/09/10/20230910-flutter/&text=Flutter 入门指北"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://yomxxx.github.io/2023/09/10/20230910-flutter/&title=Flutter 入门指北"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://yomxxx.github.io/2023/09/10/20230910-flutter/&is_video=false&description=Flutter 入门指北"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Flutter 入门指北&body=Check out this article: https://yomxxx.github.io/2023/09/10/20230910-flutter/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://yomxxx.github.io/2023/09/10/20230910-flutter/&title=Flutter 入门指北"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://yomxxx.github.io/2023/09/10/20230910-flutter/&title=Flutter 入门指北"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://yomxxx.github.io/2023/09/10/20230910-flutter/&title=Flutter 入门指北"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://yomxxx.github.io/2023/09/10/20230910-flutter/&title=Flutter 入门指北"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://yomxxx.github.io/2023/09/10/20230910-flutter/&name=Flutter 入门指北&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://yomxxx.github.io/2023/09/10/20230910-flutter/&t=Flutter 入门指北"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81Flutter-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.</span> <span class="toc-text">一、Flutter 是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Flutter-%E6%9C%89%E5%93%AA%E4%BA%9B%E7%89%B9%E7%82%B9%EF%BC%9F"><span class="toc-number">2.</span> <span class="toc-text">二、Flutter 有哪些特点？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81Flutter-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84"><span class="toc-number">3.</span> <span class="toc-text">三、Flutter 系统架构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81Flutter-%E4%B8%8E%E5%89%8D%E7%AB%AF%E7%9A%84%E4%B8%80%E4%BA%9B%E5%AF%B9%E6%AF%94"><span class="toc-number">4.</span> <span class="toc-text">四、Flutter 与前端的一些对比</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-number">5.</span> <span class="toc-text">五、环境搭建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E4%BB%A3%E7%A0%81%E5%AF%B9%E6%AF%94"><span class="toc-number">6.</span> <span class="toc-text">六、代码对比</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A5%E5%8F%A3%E6%96%87%E4%BB%B6"><span class="toc-number">6.1.</span> <span class="toc-text">入口文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Model-%E5%B1%82%E8%AE%BE%E8%AE%A1"><span class="toc-number">6.2.</span> <span class="toc-text">Model 层设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E8%B7%AF%E7%94%B1"><span class="toc-number">6.3.</span> <span class="toc-text">页面路由</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81Flutter-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9-Dart"><span class="toc-number">7.</span> <span class="toc-text">七、Flutter 为什么选择 Dart ?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81Flutter-%E6%80%A7%E8%83%BD%E4%B8%BA%E4%BD%95%E8%83%BD%E5%A4%9F%E5%AA%B2%E7%BE%8E%E5%8E%9F%E7%94%9F%E5%BA%94%E7%94%A8%EF%BC%9F"><span class="toc-number">8.</span> <span class="toc-text">八、Flutter 性能为何能够媲美原生应用？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81Flutter-%E4%B8%8E%E5%8E%9F%E7%94%9F%E4%BA%A4%E4%BA%92"><span class="toc-number">9.</span> <span class="toc-text">九、Flutter 与原生交互</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#PlatformChannel"><span class="toc-number">9.1.</span> <span class="toc-text">PlatformChannel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PlatformView"><span class="toc-number">9.2.</span> <span class="toc-text">PlatformView</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E3%80%81Flutter-%E5%BC%80%E5%8F%91%E4%BD%93%E9%AA%8C%EF%BC%9A%E2%80%9DUI-as-Code%E2%80%9D"><span class="toc-number">10.</span> <span class="toc-text">十、Flutter 开发体验：”UI as Code”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">11.</span> <span class="toc-text">参考资料</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
      
        <style>
  #vuepress-cat {
    position: fixed;
    right: 0;
    bottom: 0;
  }
</style>
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="cat-container">
    <canvas id="vuepress-cat" width="200" height="200" class="live2d"></canvas>
  </div>
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Flutter 入门指北
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">辰总的blog</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2023-09-09T16:00:00.000Z" itemprop="datePublished">2023-09-10</time>
        
      
    </div>

 
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/%E5%8D%9A%E5%AE%A2/">博客</a>
    </div>

 
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/hexo/" rel="tag">hexo</a>, <a class="tag-link-link" href="/tags/serverless/" rel="tag">serverless</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="一、Flutter-是什么？"><a href="#一、Flutter-是什么？" class="headerlink" title="一、Flutter 是什么？"></a>一、Flutter 是什么？</h2><p>Flutter 是 Google 推出的 UI 框架，帮助开发者通过一套代码同时运行在 iOS 和 Android 上，构建媲美原生体验的精美应用！实际上 Flutter 不止于移动平台，正逐渐从移动设备扩展到多个平台，例如 Web、macOS、Windows、Linux、嵌入式设备等，因此 Flutter 是适用于所有屏幕的便携式界面框架，Flutter 一切皆是 Widget；自绘 UI；Flutter 只接管 UI 层，蓝牙等系统功能通过插件的形式提供。</p>
<h2 id="二、Flutter-有哪些特点？"><a href="#二、Flutter-有哪些特点？" class="headerlink" title="二、Flutter 有哪些特点？"></a>二、Flutter 有哪些特点？</h2><ol>
<li>美观：可对 UI 实现像素级的控制，且内置 UI 库 ( Material、Cupertino )</li>
<li>快速：硬件加速图形引擎、代码被编译成机器码</li>
<li>高效：保持应用状态的热重载 ( hot reload )</li>
<li>开放：完全开源的项目 ( BSD 开源协议 )</li>
</ol>
<h2 id="三、Flutter-系统架构"><a href="#三、Flutter-系统架构" class="headerlink" title="三、Flutter 系统架构"></a>三、Flutter 系统架构</h2><p>Flutter 使用 C、C++、Dart 和 Skia ( 2D 渲染引擎 ) 构建，详情见 Flutter 系统架构</p>
<table>
<thead>
<tr>
<th align="left">Flutter ( Android / iOS )</th>
<th align="left">Flutter Web</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><img src="/assets/20230910-flutter/640.jpg" alt="图片"></td>
<td align="left"><img src="/assets/20230910-flutter/640.png" alt="图片"></td>
</tr>
</tbody></table>
<h2 id="四、Flutter-与前端的一些对比"><a href="#四、Flutter-与前端的一些对比" class="headerlink" title="四、Flutter 与前端的一些对比"></a>四、Flutter 与前端的一些对比</h2><p>技术都是相通的，寻找相似点能让我们快速上手一门新技术。</p>
<p>Flutter 与前端有不少相似点，比如 Flutter 借鉴了 React 响应式 UI 编程的思想，Flutter 也有 Flexbox、Grid 布局，此外 Dart 与 JavaScript 的语法有不少相似点。</p>
<p>实际上，Flutter 项目正是诞生于 Chrome 团队，详情见 “听 Flutter 创始人 Eric 为你讲述 Flutter 的故事”。此外，Dart 设计之初是为了取代 JavaScript，只不过最终取代失败，因而转换定位，服务于 Flutter。</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"><strong>Flutter</strong></th>
<th align="left"><strong>前端</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>编程语言</strong></td>
<td align="left">Dart</td>
<td align="left">JavaScript</td>
</tr>
<tr>
<td align="left"><strong>响应式 UI 编程</strong></td>
<td align="left">借鉴 React</td>
<td align="left">React、Vue、Angular</td>
</tr>
<tr>
<td align="left"><strong>状态管理</strong></td>
<td align="left">Provider、Redux、Mobx</td>
<td align="left">Redux、Mobx、Vuex</td>
</tr>
<tr>
<td align="left"><strong>页面样式</strong></td>
<td align="left">Widgets</td>
<td align="left">CSS、styled-component</td>
</tr>
<tr>
<td align="left"><strong>UI 库</strong></td>
<td align="left">官方内置 Material Design、Cupertino</td>
<td align="left">社区 Ant Design、Element</td>
</tr>
<tr>
<td align="left"><strong>内嵌视图</strong></td>
<td align="left">PlatformView</td>
<td align="left">iframe</td>
</tr>
<tr>
<td align="left"><strong>开发和调试工具</strong></td>
<td align="left">Dart DevTools</td>
<td align="left">Chrome DevTools</td>
</tr>
<tr>
<td align="left"><strong>编辑器</strong></td>
<td align="left">VS Code、Android Studio</td>
<td align="left">VS Code、Sublime Text</td>
</tr>
<tr>
<td align="left"><strong>在线编辑器</strong></td>
<td align="left">DartPad、CodePen</td>
<td align="left">CodePen、JSFiddle</td>
</tr>
<tr>
<td align="left"><strong>包管理工具</strong></td>
<td align="left">pub</td>
<td align="left">npm、yarn</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"><strong>Dart</strong></th>
<th align="left"><strong>JavaScript</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>编译</strong></td>
<td align="left">即时编译 (JIT) 或提前编译 (AOT)</td>
<td align="left">即时编译 ( JIT )</td>
</tr>
<tr>
<td align="left"><strong>异步非阻塞</strong></td>
<td align="left">单线程、事件循环、微任务、宏任务</td>
<td align="left">单线程、事件循环、微任务、宏任务</td>
</tr>
<tr>
<td align="left"><strong>异步编程</strong></td>
<td align="left">Future、async、await</td>
<td align="left">Promise、async、await</td>
</tr>
<tr>
<td align="left"><strong>类型系统</strong></td>
<td align="left">type safestatic type checking and runtime checks</td>
<td align="left">TypeScriptstatic type definitions</td>
</tr>
<tr>
<td align="left"><strong>继承</strong></td>
<td align="left">Class</td>
<td align="left">原型链</td>
</tr>
<tr>
<td align="left"><strong>密集型计算</strong></td>
<td align="left">Isolate</td>
<td align="left">Web Worker</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"><strong>Flutter</strong></th>
<th align="left"><strong>CSS</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>样式化文本</strong></td>
<td align="left">Text、RichText</td>
<td align="left">font-size、font-weight、font-family…</td>
</tr>
<tr>
<td align="left"><strong>盒模型</strong></td>
<td align="left">只有 border-box</td>
<td align="left">box-sizing: content-box、border-box;</td>
</tr>
<tr>
<td align="left"><strong>弹性盒子布局</strong></td>
<td align="left">Row、Column</td>
<td align="left">display: flex、inline-flex;flex-direction: row、column;</td>
</tr>
<tr>
<td align="left"><strong>网格布局</strong></td>
<td align="left">Grid</td>
<td align="left">display: grid;</td>
</tr>
<tr>
<td align="left"><strong>定位方式</strong></td>
<td align="left">Aligin、Stack &amp; Positioned、Slivers</td>
<td align="left">position: static、relative、absolute、sticky、fixed</td>
</tr>
<tr>
<td align="left"><strong>变换 ( 旋转 缩放 倾斜 平移等 )</strong></td>
<td align="left">Transform</td>
<td align="left">transform</td>
</tr>
</tbody></table>
<hr>
<p>举个 🌰</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;greybox&quot;</span>&gt;</span></span><br><span class="line">  Lorem ipsum</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">.greybox &#123; background-color: #e0e0e0; /* grey 300 */ width: 320px; height: 240px; font: 900 24px Georgia; display: flex; align-items: center; justify-content: center; &#125; // Flutter Dart var container = Container( // grey box color: Colors.grey[300], width: 320, height: 240, child: Center( child: Text( &quot;Lorem ipsum&quot;, style: TextStyle( fontWeight: FontWeight.w900, fontSize: 24, fontFamily: &quot;Georgia&quot;, ), ), ), );</span><br></pre></td></tr></table></figure>

<h2 id="五、环境搭建"><a href="#五、环境搭建" class="headerlink" title="五、环境搭建"></a>五、环境搭建</h2><p>参考<strong>官网</strong>[1]，有非常详细的教程。</p>
<p>关键步骤，安装 Flutter SDK。</p>
<p>IDE 推荐使用 Android Studio，当然 VS CODE 装上对应插件也 OK。</p>
<h2 id="六、代码对比"><a href="#六、代码对比" class="headerlink" title="六、代码对比"></a>六、代码对比</h2><ol>
<li><h3 id="入口文件"><a href="#入口文件" class="headerlink" title="入口文件"></a>入口文件</h3></li>
</ol>
<p>main.dart 作为入口文件主要有一个主函数 main，同时这个主函数也是作为整个应用的入口函数，其中 main 里面起到关键作用的就是 runApp 函数，这与 React 的 ReactDOM.render 作用类似。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>; <span class="comment">// 谷歌官方组件库，类比antd</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;app.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(App());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对比的 React 代码</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">&quot;react-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App&quot;</span>;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;App /&gt;,</span><br><span class="line"></span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&quot;root&quot;</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="Model-层设计"><a href="#Model-层设计" class="headerlink" title="Model 层设计"></a>Model 层设计</h3><p>Todo List 应用有列表以及 todo 详情，因此我们这一块设计两个类，一个 TodoList 类对应列表，一个 Todo 类对应 todo 详情。</p>
<p>至于 React 项目那边，可能这种设计不是很常见，但是为了方便对比，设计和 Flutter 保持了一致。</p>
<p>Flutter Todo 类代码：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:uuid/uuid.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Todo</span> </span>&#123;</span><br><span class="line">  <span class="built_in">bool</span> complete; <span class="comment">// todo的完成状态</span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> id; <span class="comment">// todo的唯一id</span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">DateTime</span> time; <span class="comment">// todo创建时间</span></span><br><span class="line">  <span class="built_in">String</span> task; <span class="comment">// todo的具体任务</span></span><br><span class="line"></span><br><span class="line">  Todo(&#123;</span><br><span class="line">    <span class="keyword">this</span>.task,</span><br><span class="line">    <span class="keyword">this</span>.complete = <span class="keyword">false</span>,</span><br><span class="line">    <span class="built_in">DateTime</span> time,</span><br><span class="line">    <span class="built_in">String</span> id</span><br><span class="line">  &#125;) : <span class="keyword">this</span>.time = time ?? <span class="built_in">DateTime</span>.now(), <span class="keyword">this</span>.id = id ?? Uuid().v4();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>React 对比代码：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; v4 &#125; <span class="keyword">from</span> <span class="string">&quot;uuid&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Todo</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(task, id = v4(), complete = false, time = new Date().toLocaleString()) &#123;</span><br><span class="line">    <span class="built_in">this</span>.id = id;</span><br><span class="line">    <span class="built_in">this</span>.task = task;</span><br><span class="line">    <span class="built_in">this</span>.complete = complete;</span><br><span class="line">    <span class="built_in">this</span>.time = time;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Todo;</span><br></pre></td></tr></table></figure>

<h3 id="页面路由"><a href="#页面路由" class="headerlink" title="页面路由"></a>页面路由</h3><p>Flutter 的路由跳转主要用到 Navigator，React 那边对应的就是 history。</p>
<p>页面路由有几种方式，详细参考官网。这里为了与 React 对比主要介绍命名路由。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;pages/detail/index.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;pages/list/index.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;models/todo_list.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:provider/provider.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> App(&#123;Key key&#125;) : <span class="keyword">super</span>(key: key);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MultiProvider(</span><br><span class="line">      providers: [</span><br><span class="line">        ChangeNotifierProvider(create: (_) =&gt; TodoList()),</span><br><span class="line">      ],</span><br><span class="line"></span><br><span class="line">      child: MaterialApp(</span><br><span class="line">        title: <span class="string">&#x27;flutter todo list&#x27;</span>,</span><br><span class="line">        initialRoute: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">        routes: &#123;</span><br><span class="line"></span><br><span class="line">          <span class="string">&#x27;/&#x27;</span>: (context) =&gt; ListPage(),</span><br><span class="line"></span><br><span class="line">          <span class="string">&#x27;/list&#x27;</span>: (context) =&gt; ListPage(),</span><br><span class="line"></span><br><span class="line">          <span class="string">&#x27;/detail&#x27;</span>: (context) =&gt; DetailPage(<span class="keyword">false</span>),</span><br><span class="line"></span><br><span class="line">          <span class="string">&#x27;/edit&#x27;</span>: (context) =&gt; DetailPage(<span class="keyword">true</span>),</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>React 代码</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; BrowserRouter, Switch, Route &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> TodoListContext, &#123; todoList &#125; <span class="keyword">from</span> <span class="string">&quot;./models/todoList&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> DetailPage <span class="keyword">from</span> <span class="string">&quot;./pages/detail&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> ListPage <span class="keyword">from</span> <span class="string">&quot;./pages/list&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./App.css&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;antd-mobile/dist/antd-mobile.css&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;TodoListContext.Provider value=&#123;todoList&#125;&gt;</span><br><span class="line">      &lt;BrowserRouter&gt;</span><br><span class="line">        &lt;Switch&gt;</span><br><span class="line">          &lt;Route exact path=<span class="string">&quot;/&quot;</span> component=&#123;ListPage&#125; /&gt;</span><br><span class="line">          &lt;Route exact path=<span class="string">&quot;/list&quot;</span> component=&#123;ListPage&#125; /&gt;</span><br><span class="line">          &lt;Route exact path=<span class="string">&quot;/detail&quot;</span> component=&#123;DetailPage&#125; /&gt;</span><br><span class="line">          &lt;Route exact path=<span class="string">&quot;/edit&quot;</span> component=&#123;DetailPage&#125; /&gt;</span><br><span class="line">        &lt;/Switch&gt;</span><br><span class="line">      &lt;/BrowserRouter&gt;</span><br><span class="line">    &lt;/TodoListContext.Provider&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure>

<h2 id="七、Flutter-为什么选择-Dart"><a href="#七、Flutter-为什么选择-Dart" class="headerlink" title="七、Flutter 为什么选择 Dart ?"></a>七、Flutter 为什么选择 Dart ?</h2><ol>
<li>Flutter 选择开发语言时，使用 4 个主要维度进行评估，Dart 在所有评估维度上都取得高分</li>
</ol>
<ul>
<li>开发者的生产力</li>
<li>面向对象</li>
<li>稳定可期的高性能表现</li>
<li>快速内存分配</li>
</ul>
<ol>
<li>Dart 的运行时和编译器支持 Flutter 的两个关键特性</li>
</ol>
<ul>
<li>基于 JIT ( 即时编译 ) 的快速开发周期，允许在带类型的语言中支持形变和有状态热重载</li>
<li>一个能产出高效率 ARM 代码的 AOT (Ahead of time 提前编译) 编译器，从而确保快速启动的能力和可预期的生产版本运行性能</li>
</ul>
<ol>
<li>Dart 团队就在你身边：与 Dart 社区展开了密切合作，Dart 社区积极投入资源改进 Dart，以便在 Flutter 中更易使用</li>
</ol>
<h2 id="八、Flutter-性能为何能够媲美原生应用？"><a href="#八、Flutter-性能为何能够媲美原生应用？" class="headerlink" title="八、Flutter 性能为何能够媲美原生应用？"></a>八、Flutter 性能为何能够媲美原生应用？</h2><p><img src="/assets/20230910-flutter/640-1.jpg" alt="图片"></p>
<h2 id="九、Flutter-与原生交互"><a href="#九、Flutter-与原生交互" class="headerlink" title="九、Flutter 与原生交互"></a>九、Flutter 与原生交互</h2><ol>
<li><h3 id="PlatformChannel"><a href="#PlatformChannel" class="headerlink" title="PlatformChannel"></a>PlatformChannel</h3></li>
</ol>
<p>适用于不带 UI 的功能，Flutter 与原生约定通道方法，原生通过 API 的形式提供定位、蓝牙、传感器等系统功能，或者复用客户端 SDK，提供请求、上传、美颜、人脸识别、推送、 IM 等基础功能</p>
<p><img src="/assets/20230910-flutter/640-1.png" alt="图片"></p>
<ol>
<li><h3 id="PlatformView"><a href="#PlatformView" class="headerlink" title="PlatformView"></a>PlatformView</h3></li>
</ol>
<p>适用于带 UI 的功能，Flutter 内嵌原生视图，例如地图、WebView 等</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Widget build(BuildContext context) &#123;</span><br><span class="line">  <span class="keyword">if</span> (defaultTargetPlatform == TargetPlatform.android) &#123;</span><br><span class="line">      <span class="keyword">return</span> AndroidView(</span><br><span class="line">        viewType: <span class="string">&#x27;plugins.flutter.io/google_maps&#x27;</span>,</span><br><span class="line">        onPlatformViewCreated: onPlatformViewCreated,</span><br><span class="line">        gestureRecognizers: gestureRecognizers,</span><br><span class="line">        creationParams: creationParams,</span><br><span class="line">        creationParamsCodec: <span class="keyword">const</span> StandardMessageCodec(),</span><br><span class="line">      );</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (defaultTargetPlatform == TargetPlatform.iOS) &#123;</span><br><span class="line">      <span class="keyword">return</span> UiKitView(</span><br><span class="line">        viewType: <span class="string">&#x27;plugins.flutter.io/google_maps&#x27;</span>,</span><br><span class="line">        onPlatformViewCreated: onPlatformViewCreated,</span><br><span class="line">        gestureRecognizers: gestureRecognizers,</span><br><span class="line">        creationParams: creationParams,</span><br><span class="line">        creationParamsCodec: <span class="keyword">const</span> StandardMessageCodec(),</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Text(</span><br><span class="line"><span class="string">&#x27;<span class="subst">$defaultTargetPlatform</span> is not yet supported by the maps plugin&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="十、Flutter-开发体验：”UI-as-Code”"><a href="#十、Flutter-开发体验：”UI-as-Code”" class="headerlink" title="十、Flutter 开发体验：”UI as Code”"></a>十、Flutter 开发体验：”UI as Code”</h2><p>Flutter 的 UI 代码使用 Dart 语言，其优点如下：</p>
<ul>
<li>Flutter 的声明式 UI 编写方法能够直观地描述 UI 结构 ( 借鉴 React )</li>
<li>不需要为 UI 布局学习额外的语法</li>
<li>不需要维护代码之外的 UI 定义文件</li>
</ul>
<hr>
<p>但是，也存在几个问题：</p>
<p>问题一：复杂 UI 逻辑会使用命令式语法，打破代码结构和 UI 视觉结构的一致性 ( 代码看起来更像是命令式的而不是声明式的 )</p>
<p><img src="/assets/20230910-flutter/640-2.png" alt="图片"></p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Widget build(BuildContext context) &#123;</span><br><span class="line">  <span class="built_in">List</span>&lt;SegmentedTabBarItem&gt; items = [];</span><br><span class="line">  <span class="built_in">List</span> genders = [<span class="string">&quot;男生&quot;</span>, <span class="string">&quot;女生&quot;</span>, <span class="string">&quot;不限&quot;</span>];</span><br><span class="line">  <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; genders.length; i++) &#123;</span><br><span class="line">      items.add(SegmentedTabBarItem(</span><br><span class="line">          text: genders[i],</span><br><span class="line">          width: <span class="number">102</span>,</span><br><span class="line">          radius: <span class="number">8</span>,</span><br><span class="line">          fontWeight: FontWeight.w500,</span><br><span class="line">          selectedTextColor: Colors.white,</span><br><span class="line">          duration: <span class="built_in">Duration</span>(milliseconds: <span class="number">0</span>),</span><br><span class="line">      ));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> SegmentedTabBar(</span><br><span class="line">      tabItemSpacing: <span class="number">6.5</span>,</span><br><span class="line">      tabBarRadius: $rem(<span class="number">12</span>),</span><br><span class="line">      tabIndex: genderIndex,</span><br><span class="line">      padding: EdgeInsets.symmetric(horizontal: <span class="number">0</span>),</span><br><span class="line">      selectedItemBackgroundColor: Colors.purple,</span><br><span class="line">      duration: <span class="built_in">Duration</span>(milliseconds: <span class="number">0</span>),</span><br><span class="line">      children: items,</span><br><span class="line">      onSelected: (<span class="built_in">int</span> index) &#123;</span><br><span class="line">          setState(() &#123;</span><br><span class="line">              genderIndex = index;</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>SegmentedTabBar 在概念和视觉上都应该先于 items 出现。但是由于语法局限，这个空间关系被反了过来。代码看起来更像是命令式而不是声明式。</p>
<hr>
<p>解决方案：在 Dart 2.3 中加入了针对 UI 编程优化的新语法元素，即可以在集合数据类型的定义中使用 if 和 for 这样的流程控制元素。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Widget build(BuildContext context) &#123;</span><br><span class="line">  <span class="keyword">return</span> SegmentedTabBar(</span><br><span class="line">      tabItemSpacing: <span class="number">6.5</span>,</span><br><span class="line">      tabBarRadius: $rem(<span class="number">12</span>),</span><br><span class="line">      tabIndex: genderIndex,</span><br><span class="line">      padding: EdgeInsets.symmetric(horizontal: <span class="number">0</span>),</span><br><span class="line">      selectedItemBackgroundColor: Colors.purple,</span><br><span class="line">      duration: <span class="built_in">Duration</span>(milliseconds: <span class="number">0</span>),</span><br><span class="line">      children: &lt;SegmentedTabBarItem&gt;[</span><br><span class="line">          <span class="keyword">for</span> (<span class="built_in">String</span> label <span class="keyword">in</span> [<span class="string">&quot;男生&quot;</span>, <span class="string">&quot;女生&quot;</span>, <span class="string">&quot;不限&quot;</span>])</span><br><span class="line">              SegmentedTabBarItem(</span><br><span class="line">                  text: label,</span><br><span class="line">                  width: <span class="number">102</span>,</span><br><span class="line">                  radius: <span class="number">8</span>,</span><br><span class="line">                  fontWeight: FontWeight.w500,</span><br><span class="line">                  selectedTextColor: Colors.white,</span><br><span class="line">                  duration: <span class="built_in">Duration</span>(milliseconds: <span class="number">0</span>),</span><br><span class="line">              ),</span><br><span class="line">      ],</span><br><span class="line">      onSelected: (<span class="built_in">int</span> index) &#123;</span><br><span class="line">          setState(() &#123;</span><br><span class="line">              genderIndex = index;</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>问题二：多层嵌套之后不容易对 UI 的构成做到一目了然</p>
<p>解决方案：IDE 中加入了 Editor UI Guides</p>
<p><img src="/assets/20230910-flutter/640-3.png" alt="图片"></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>前端 Flutter 入门指南 <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/mgSIu_xcHzU1-Ku218Pjmg">https://mp.weixin.qq.com/s/mgSIu_xcHzU1-Ku218Pjmg</a><br>通过与React的简单对比来入门Flutter <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/KIMqd-Re-XhpSfUf5sSfdQ">https://mp.weixin.qq.com/s/KIMqd-Re-XhpSfUf5sSfdQ</a></p>

  </div>
</article>
 
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//unpkg.com/valine/dist/Valine.min.js"></script>
<!--<script src="//cdn.jsdelivr.net/npm/leancloud-storage@latest/dist/av-min.js"></script>
<script src='//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js'></script>-->
<div id="vcomments"></div>
<script>
      var notify = false == true ? true : false;
      var verify = false == true ? true : false;
      var visitor = true == true ? true : false;
  new Valine({
    el: '#vcomments',
              notify: notify,
              verify: verify,
      app_id: '0AQiakktufEkOkBGRTG7OMOA-gzGzoHsz',
    app_key: 'K7A8Rj80r3C59gYyLjJ9Bw8f',
          lang: 'en',
          placeholder: 'ヾﾉ≧∀≦)o快来评论一下吧!',
          avatar: 'monsterid',
          pageSize: 10,
          visitor: visitor
      });
</script>



<script type="module">
  import live2dJSString from "/assets/2d.js";
  let model = {
    whiteCat: "https://cdn.jsdelivr.net/gh/QiShaoXuan/live2DModel@1.0.0/live2d-widget-model-tororo/assets/tororo.model.json",
  };
  function initCat() {
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? true : false;
    if (isMobile) {
      isLoaded = false;
      return console.log("mobile do not load model");
    }
    if (!window.loadlive2d) {
      const script = document.createElement("script");
      script.innerHTML = live2dJSString;
      document.body.appendChild(script);
    }
    let style = {
      width: (150 / 1424) * document.body.clientWidth,
      height: ((150 / 1424) * document.body.clientWidth) / 0.8,
    };
    setTimeout(() => {
      window.loadlive2d("vuepress-cat", model.whiteCat);
    }, 1000);
  }
  initCat();
</script>

        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="http://github.com/YOMXXX">Projects</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a href="/atom.xml">RSS</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81Flutter-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.</span> <span class="toc-text">一、Flutter 是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Flutter-%E6%9C%89%E5%93%AA%E4%BA%9B%E7%89%B9%E7%82%B9%EF%BC%9F"><span class="toc-number">2.</span> <span class="toc-text">二、Flutter 有哪些特点？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81Flutter-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84"><span class="toc-number">3.</span> <span class="toc-text">三、Flutter 系统架构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81Flutter-%E4%B8%8E%E5%89%8D%E7%AB%AF%E7%9A%84%E4%B8%80%E4%BA%9B%E5%AF%B9%E6%AF%94"><span class="toc-number">4.</span> <span class="toc-text">四、Flutter 与前端的一些对比</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-number">5.</span> <span class="toc-text">五、环境搭建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E4%BB%A3%E7%A0%81%E5%AF%B9%E6%AF%94"><span class="toc-number">6.</span> <span class="toc-text">六、代码对比</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A5%E5%8F%A3%E6%96%87%E4%BB%B6"><span class="toc-number">6.1.</span> <span class="toc-text">入口文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Model-%E5%B1%82%E8%AE%BE%E8%AE%A1"><span class="toc-number">6.2.</span> <span class="toc-text">Model 层设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E8%B7%AF%E7%94%B1"><span class="toc-number">6.3.</span> <span class="toc-text">页面路由</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81Flutter-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9-Dart"><span class="toc-number">7.</span> <span class="toc-text">七、Flutter 为什么选择 Dart ?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81Flutter-%E6%80%A7%E8%83%BD%E4%B8%BA%E4%BD%95%E8%83%BD%E5%A4%9F%E5%AA%B2%E7%BE%8E%E5%8E%9F%E7%94%9F%E5%BA%94%E7%94%A8%EF%BC%9F"><span class="toc-number">8.</span> <span class="toc-text">八、Flutter 性能为何能够媲美原生应用？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81Flutter-%E4%B8%8E%E5%8E%9F%E7%94%9F%E4%BA%A4%E4%BA%92"><span class="toc-number">9.</span> <span class="toc-text">九、Flutter 与原生交互</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#PlatformChannel"><span class="toc-number">9.1.</span> <span class="toc-text">PlatformChannel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PlatformView"><span class="toc-number">9.2.</span> <span class="toc-text">PlatformView</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E3%80%81Flutter-%E5%BC%80%E5%8F%91%E4%BD%93%E9%AA%8C%EF%BC%9A%E2%80%9DUI-as-Code%E2%80%9D"><span class="toc-number">10.</span> <span class="toc-text">十、Flutter 开发体验：”UI as Code”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">11.</span> <span class="toc-text">参考资料</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://yomxxx.github.io/2023/09/10/20230910-flutter/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://yomxxx.github.io/2023/09/10/20230910-flutter/&text=Flutter 入门指北"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://yomxxx.github.io/2023/09/10/20230910-flutter/&title=Flutter 入门指北"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://yomxxx.github.io/2023/09/10/20230910-flutter/&is_video=false&description=Flutter 入门指北"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Flutter 入门指北&body=Check out this article: https://yomxxx.github.io/2023/09/10/20230910-flutter/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://yomxxx.github.io/2023/09/10/20230910-flutter/&title=Flutter 入门指北"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://yomxxx.github.io/2023/09/10/20230910-flutter/&title=Flutter 入门指北"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://yomxxx.github.io/2023/09/10/20230910-flutter/&title=Flutter 入门指北"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://yomxxx.github.io/2023/09/10/20230910-flutter/&title=Flutter 入门指北"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://yomxxx.github.io/2023/09/10/20230910-flutter/&name=Flutter 入门指北&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://yomxxx.github.io/2023/09/10/20230910-flutter/&t=Flutter 入门指北"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2023
    lgc
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="http://github.com/YOMXXX">Projects</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a href="/atom.xml">RSS</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

        <div class="cat-container">
          <canvas
            id="vuepress-cat"
            width="200"
           height="200"
            class="live2d"
          ></canvas>
    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

    <script type="text/javascript">
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?646453bbe5d0ca5216b2efd7d2d5b945";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

<!-- Disqus Comments -->


    </div>
<script>if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js?t=1697376502987')
    .then(function () {console.log('ServiceWorker Register Successfully.')})
    .catch(function (e) {console.error(e)});
}
</script></body>
<script>
WIDGET = {
  CONFIG: {
    "modules": "01234",
    "background": 1,
    "tmpColor": "FFFFFF",
    "tmpSize": 16,
    "cityColor": "FFFFFF",
    "citySize": 16,
    "aqiSize": 16,
    "weatherIconSize": 24,
    "alertIconSize": 18,
    "padding": "10px 10px 10px 10px",
    "shadow": "1",
    "language": "auto",
    "borderRadius": 5,
    "fixed": "false",
    "vertical": "middle",
    "horizontal": "center",
    "key": "a5b33f33732d4326966fec04550c3ead"
  }
}
  </script>
<script src="https://widget.heweather.net/simple/static/js/he-simple-common.js?v=1.1"></script>
<script type="module">
  import live2dJSString from "/assets/2d.js"
  let model = {
    whiteCat: "https://cdn.jsdelivr.net/gh/QiShaoXuan/live2DModel@1.0.0/live2d-widget-model-tororo/assets/tororo.model.json",
  };
  function initCat() {
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? true : false;
    if (isMobile) {
      isLoaded = false;
      return console.log("mobile do not load model");
    }
    if (!window.loadlive2d) {
        const script = document.createElement("script");
        script.innerHTML = live2dJSString;
        document.body.appendChild(script);
      }
    let style = {
      width: (150 / 1424) * document.body.clientWidth,
      height: ((150 / 1424) * document.body.clientWidth) / 0.8,
    };
    setTimeout(() => {
      window.loadlive2d("vuepress-cat", model.whiteCat);
    },1000);
  }
  initCat();
</script>
</html>
